apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
        name: manual
provisioner: kubernetes.io/no-provisioner
volumeBindingMode: WaitForFirstConsumer
---
apiVersion: v1
kind: PersistentVolume
metadata:
        name: mysql-pv-volume
        labels:
                type: local
spec:
        storageClassName: manual
        capacity:
                storage: 20Gi
        accessModes:
                - ReadWriteOnce
        local:
                path: "/mnt/data"
        nodeAffinity:
                required:
                        nodeSelectorTerms:
                                - matchExpressions:
                                        - key: kubernetes.io/hostname
                                          operator: In
                                          values:
                                                  - worker-1
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
        name: mysql-pv-claim
spec:
        storageClassName: manual
        accessModes:
                - ReadWriteOnce
        resources:
                requests:
                        storage: 20Gi

